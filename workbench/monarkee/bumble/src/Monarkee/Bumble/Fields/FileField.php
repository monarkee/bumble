<?php namespace Monarkee\Bumble\Fields;

use Monarkee\Bumble\Fields\Field;
use Monarkee\Bumble\Interfaces\FileFieldInterface;

class FileField extends Field implements FileFieldInterface {

    const DEFAULT_UPLOAD_TO = 'uploads';

    /**
     * @var
     */
    public $driver;

    /**
     * @return boolean
     */
    public function isAnonymized()
    {
        return isset($this->options['anonymize']) ? $this->options['anonymize'] : $this->anonymize;
    }

    /**
     * Whether to anonymize the uploaded file's name
     * @var bool
     */
    public $anonymize = false;

    /**
     * @return mixed
     */
    public function getUploadTo()
    {
        return isset($this->options['upload_to']) ? $this->options['upload_to'] : self::DEFAULT_UPLOAD_TO;
    }

    /**
     * @return string
     */
    public function getUploadPath()
    {
        return public_path($this->options['upload_to']);
    }

    /**
     * @var
     */
    public $allowed_types;

    public function isFileField()
    {
        return true;
    }

    public function register()
    {
        // TODO: Implement register() method.
    }

    public function process($model, $input)
    {
        return parent::process($model, $input); // TODO: Change the autogenerated stub
    }

    public function handleFile($request)
    {
        return;
    }

    public function removeFile($filename)
    {
        return unlink($filename);
    }

}
